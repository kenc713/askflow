---
title: 0020-use-cases
---

# ユースケース（たたき台） - 0020

このファイルはユースケースレベルでの振る舞いを整理するためのたたき台である。
各ユースケースはまずMVP観点で優先度付けし、その後に画面/データモデル/受け入れ基準へと落とす。

使い方:
- このファイルにユースケースを追加する
- 各ユースケースごとに「アクター／トリガー／主要フロー／代替フロー／成功条件／優先度」を記述する

テンプレート（コピーして使う）:

- id: UC-XX
- タイトル:
- 概要: （1行で）
- アクター:
- トリガー:
- 前提条件:
- 主要フロー:
  1.
  2.
  3.
- 代替フロー:
  - 
- 成功条件（受け入れ基準）:
  - 
- 優先度: MUST / SHOULD / NICE
- 備考:

---

以下は初期の候補ユースケース（MVP向け）で、優先度を暫定で付けている。必要に応じて分割／統合する。

- id: UC-01
- タイトル: 新しいノートを作成
- 概要: ユーザーがローカルVaultに Markdown ノートを新規作成する
- アクター: ローカルユーザー
- トリガー: 「新規ノート」操作（ボタン、ショートカット等）
- 前提条件: Vault/ワークスペースが初期化済みで書き込み権限がある
- 主要フロー:
  1. ユーザーが「新規ノート」を選択する
  2. タイトル（任意）を入力し、作成を実行する
  3. システムが Markdown ファイルを Vault 内に作成し、YAML frontmatter に一意のIDを付与してエディタを開く
- 代替フロー:
  - タイトルが未入力: デフォルトタイトルを割り当てる
  - ファイル作成に失敗: エラーメッセージを表示し再試行を促す
- 成功条件:
  - Vault内に Markdown ファイルが作成され、エディタで編集可能になる
  - メタデータ（ID/作成日時）がインデックスに反映される
- 優先度: MUST
- 備考: 長文は Markdown 本文、メタ情報は frontmatter に格納する（ローカル優先）

- id: UC-02
- タイトル: ノートの検索とフィルタ
- 概要: メタデータと本文を対象に高速にノートを検索・絞り込みできる
- アクター: ローカルユーザー
- トリガー: 検索ボックスにキーワードを入力
- 前提条件: ノートがインデックスされている（起動時にインデックス構築）
- 主要フロー:
  1. ユーザーが検索語を入力する
  2. システムがインデックス（SQLite/JSON/FTS等）をクエリし候補を返す
  3. ユーザーが候補を選びノートを開く
- 代替フロー:
  - インデックス未構築: インデックス作成をバックグラウンドで開始し検索結果は逐次更新する
- 成功条件:
  - 関連性の高いノートが上位に表示され、選択でノートが開く
- 優先度: MUST

- id: UC-03
- タイトル: ノード（短文）を作成してノートに紐づける
- 概要: 思考の断片（短文ノード）を作りノートや他ノードとリンクできる
- アクター: ローカルユーザー
- トリガー: ノード追加アクション（クイックキャプチャ等）
- 前提条件: ノードの永続化先（JSON/SQLite）が利用可能
- 主要フロー:
  1. ユーザーが短文を入力する
  2. システムがノードを保存し、必要なら親ノートIDを参照してリンクを作成する
  3. ビジュアルキャンバスやリストにノードが反映される
- 代替フロー:
  - 保存失敗: 再試行/オフラインバッファに保存
- 成功条件:
  - ノードが永続化され、検索・キャンバス表示・エクスポートが可能になる
- 優先度: SHOULD

- id: UC-04
- タイトル: ノート間リンクの作成と可視化（グラフ/キャンバス）
- 概要: ノートやノードの関連性をグラフ/キャンバスで表示し操作する
- アクター: ローカルユーザー
- トリガー: 関連表示コマンド（ノートのコンテキストメニュー等）
- 前提条件: リンク情報がメタデータ（frontmatter/ID参照）で保持されている
- 主要フロー:
  1. ユーザーがノートAで「関連を表示」を選択
  2. システムがリンク情報を収集してグラフを描画する
  3. ユーザーがノードをドラッグ＆ドロップして再配置・リンクを追加できる
- 代替フロー:
  - 大量ノードで描画負荷が高い: レベル別に展開・パンチング（必要最小表示）を行う
- 成功条件:
  - 関連ノートが視覚的に表示され、編集操作でリンクが更新される
- 優先度: SHOULD

- id: UC-05
- タイトル: ノートのエクスポート（Markdown）
- 概要: Vault 内のノートを Markdown とメタデータの形でエクスポートする
- アクター: ローカルユーザー（または組織の運用担当）
- トリガー: エクスポートコマンド実行
- 前提条件: エクスポート先のパスに書き込み権限がある
- 主要フロー:
  1. ユーザーがエクスポート対象を選択する（単体/フォルダ/全体）
  2. システムが Markdown と frontmatter を保った形でファイルを出力する
  3. 必要に応じて ZIP 等のアーカイブを生成する
- 代替フロー:
  - 書き込み不可: ユーザーにエラー通知
- 成功条件:
  - 指定先に期待どおりの Markdown ファイル群が作成される
- 優先度: MUST

- id: UC-06
- タイトル: 簡易同期（ローカル間／外部ディスク）
- 概要: 明示的なクラウド同期は行わないが、外部ストレージや手動コピーでVaultを移行できる手順をサポートする
- アクター: ローカルユーザー
- トリガー: エクスポート／バックアップコマンド実行
- 前提条件: 外部ストレージがマウントされている等
- 主要フロー:
  1. ユーザーがバックアップ先を選択する
  2. システムが差分または全量でファイルをコピーする
  3. 完了レポートを表示する
- 代替フロー:
  - コピー中断: 再試行または部分コピーの扱いをユーザーに提示
- 成功条件:
  - バックアップ先にファイル一式が保存され、復元手順がドキュメント化される
- 優先度: SHOULD

---

次のステップ（私の提案）:
- あなたがここにユースケースを追加・修正する（まずは3〜6件が望ましい）
- 私がそれぞれを詳細化して「画面／API／データモデル（前提的）」に落とす

（注）ファイル命名規則: 4桁番号-タイトル.md（例: 0020-use-cases.md）。必要なら階層的に 0021 などで詳細版を作る。
